import tkinter as tk
from tkinter import simpledialog

class Utilisateur:
    def __init__(self, nom_utilisateur):
        self.nom_utilisateur = nom_utilisateur
        self.articles_partages = []

    def partager_article(self, article, commentaire=None):
        article_partage = ArticlePartage(self, article, commentaire)
        self.articles_partages.append(article_partage)
        return article_partage

class Article:
    def __init__(self, titre, contenu):
        self.titre = titre
        self.contenu = contenu

class ArticlePartage:
    def __init__(self, auteur, article, commentaire=None):
        self.auteur = auteur
        self.article = article
        self.commentaire = commentaire

class ArticlePartageViewer:
    def __init__(self, root, utilisateur):
        self.root = root
        self.utilisateur = utilisateur

        # Créer une zone d'affichage pour les articles partagés
        self.display_area = tk.Text(root, width=50, height=20)
        self.display_area.pack()

        # Créer un bouton pour ajouter un commentaire
        self.comment_button = tk.Button(root, text="Ajouter un commentaire", command=self.ajouter_commentaire)
        self.comment_button.pack()

        # Afficher les articles partagés
        self.display_shared_articles()

    def display_shared_articles(self):
        for article_partage in self.utilisateur.articles_partages:
            self.display_area.insert(tk.END, f"{self.utilisateur.nom_utilisateur} a partagé :\n")
            self.display_area.insert(tk.END, f"Titre : {article_partage.article.titre}\n")
            self.display_area.insert(tk.END, f"Contenu : {article_partage.article.contenu}\n")
            if article_partage.commentaire:
                self.display_area.insert(tk.END, f"Commentaire : {article_partage.commentaire}\n\n")

    def ajouter_commentaire(self):
        commentaire = simpledialog.askstring("Ajouter un commentaire", "Entrez votre commentaire:")
        if commentaire:
            nouvel_article_partage = self.utilisateur.partager_article(self.utilisateur.articles_partages[-1].article, commentaire)
            self.display_area.delete("1.0", tk.END)  # Effacer le texte existant
            self.display_shared_articles()

if __name__ == "__main__":
    # Créer des instances d'utilisateurs et partager des articles
    utilisateur1 = Utilisateur("Alice")
    utilisateur2 = Utilisateur("Bob")

    article1 = Article("Hoodie/ZIP", "Contenu de l'article 1")
    article2 = Article("Vestes", "Contenu de l'article 2")

    utilisateur1.partager_article(article1, "J'adore cet article!")
    utilisateur2.partager_article(article2, "Des remises incroyables!")

    # Créer une fenêtre pour afficher les articles partagés par chaque utilisateur
    root = tk.Tk()

    viewer1 = ArticlePartageViewer(root, utilisateur1)
    viewer2 = ArticlePartageViewer(root, utilisateur2)

    root.mainloop()
